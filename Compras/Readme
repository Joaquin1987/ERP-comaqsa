# ğŸ§¾ COMAQSA â€“ MÃ³dulo de Compras (ERP)  
Asistente Oficial del Flujo de Compras

Este repositorio documenta el funcionamiento, reglas operativas y lÃ³gica tÃ©cnica del **MÃ³dulo de Compras del ERP COMAQSA**, basado Ã­ntegramente en el documento oficial **Proceso de Compras COMAQSA (GPT)**.

---

## ğŸ” Objetivo del Sistema
Garantizar que todas las compras â€”normales o crÃ­ticas, de contado o crÃ©ditoâ€” sigan un flujo uniforme, controlado y auditable, terminando siempre en una **ConciliaciÃ³n Tripartita**:

1. **OC vs RecepciÃ³n**  
2. **OC vs Factura**  
3. **Factura vs Pago / CxP**

> Ninguna Orden de Compra puede cerrarse sin esta conciliaciÃ³n completa.

---

## ğŸ“Œ Ciclo Base del Proceso de Compras

1. RequisiciÃ³n  
2. ValidaciÃ³n tÃ©cnica  
3. Cotizaciones segÃºn monto  
4. AutorizaciÃ³n por montos  
5. OC (normal o preliminar)  
6. Entrega o servicio  
7. RecepciÃ³n (preliminar o formal)  
8. Factura  
9. Pagos o ProgramaciÃ³n de pago  
10. ConciliaciÃ³n  
11. Cierre de OC

---

## ğŸ’µ Reglas de Cotizaciones

| Monto | Requisito |
|------|-----------|
| Hasta $5,000 | 1 cotizaciÃ³n |
| $5,001 â€“ $15,000 | 2 cotizaciones |
| MÃ¡s de $15,000 | 3 cotizaciones + comparativo |

---

## ğŸ”’ Rangos de AutorizaciÃ³n

| Monto | Autoriza |
|-------|----------|
| Hasta $20,000 | Jefe de Ãrea |
| $20,001 â€“ $50,000 | Director de Ãrea |
| MÃ¡s de $50,000 | Director General |

---

## ğŸ“¦ Tipos de RecepciÃ³n

### **RecepciÃ³n Preliminar**
- Sin precio final  
- Compras crÃ­ticas  
- Entregas sin autorizaciÃ³n previa  
- Pagos anticipados sin monto definitivo  
- Debe validarse en mÃ¡ximo **72 horas**

### **RecepciÃ³n Formal**
- OC normal autorizada  
- Precio final conocido  
- Factura coincide con lo recibido  

---

## ğŸ”„ Los 4 Flujos Maestros

### **1ï¸âƒ£ Normal + CrÃ©dito**
1. RequisiciÃ³n  
2. ValidaciÃ³n tÃ©cnica  
3. Cotizaciones  
4. AutorizaciÃ³n por montos  
5. OC normal  
6. Entrega  
7. RecepciÃ³n formal  
8. Factura  
9. Programar pago (CxP)  
10. ConciliaciÃ³n  
11. Cierre  

### **2ï¸âƒ£ Normal + Contado**
1. RequisiciÃ³n  
2. ValidaciÃ³n tÃ©cnica  
3. Cotizaciones  
4. AutorizaciÃ³n  
5. OC normal  
6. Pago  
7. Entrega  
8. RecepciÃ³n formal  
9. Factura  
10. ConciliaciÃ³n  
11. Cierre  

### **3ï¸âƒ£ CrÃ­tico + CrÃ©dito**
1. RequisiciÃ³n crÃ­tica  
2. OC preliminar  
3. Entrega sin pago  
4. RecepciÃ³n preliminar  
5. Precio final  
6. AutorizaciÃ³n retroactiva  
7. Convertir a OC normal  
8. Factura  
9. Programar pago  
10. ConciliaciÃ³n  
11. Cierre  

### **4ï¸âƒ£ CrÃ­tico + Contado**
1. RequisiciÃ³n crÃ­tica  
2. OC preliminar  
3. Proveedor exige anticipo o pago  
4. Pago anticipado o total  
5. Entrega / servicio  
6. RecepciÃ³n preliminar o formal  
7. Precio final  
8. AutorizaciÃ³n retroactiva  
9. Convertir a OC normal  
10. Pago complementario (si aplica)  
11. Factura  
12. ConciliaciÃ³n  
13. Cierre  

---

## ğŸ§  LÃ³gica del Sistema (para desarrolladores)

### **Estados que debe manejar una OC**
- Pendiente  
- RequisiciÃ³n validada  
- En cotizaciÃ³n  
- En autorizaciÃ³n  
- OC preliminar  
- OC normal  
- En recepciÃ³n  
- En espera de factura  
- En conciliaciÃ³n  
- Cerrada  

### **El sistema debe permitir**
- OC preliminar sin precio  
- AutorizaciÃ³n retroactiva  
- Cambios de monto antes de autorizar  
- Varias recepciones  
- Varias facturas  
- Pagos anticipados + pagos complementarios  
- Servicios y refacciones mezclados  
- RecepciÃ³n preliminar sin OC normal  

---

## ğŸ§­ Regla Maestra de Cierre

Una Orden de Compra **solo puede cerrarse** si existe conciliaciÃ³n completa entre:

1. OC vs RecepciÃ³n  
2. OC vs Factura  
3. Factura vs Pago (contado)  
4. Factura vs CxP (crÃ©dito)

> No existe el concepto **â€œcierre al pagarâ€**.

---

## ğŸ¤– Sobre este Asistente (GPT)

Este repositorio incluye al **Asistente ERP COMAQSA Compras**, un modelo diseÃ±ado para:

- Explicar el proceso  
- Validar flujos operativos  
- Ayudar en la implementaciÃ³n del ERP  
- Guiar al desarrollador (especialmente Brandon)  
- Corregir flujos incorrectos  
- Proveer lÃ³gica, pseudocÃ³digo, validaciones y estados  

---

## ğŸ“‚ Archivo Fuente Principal

Todo el contenido estÃ¡ basado en el documento interno:  
**Proceso de Compras COMAQSA (GPT)**

---

## ğŸ“ Contacto  
**Equipo de Desarrollo ERP COMAQSA**

---
